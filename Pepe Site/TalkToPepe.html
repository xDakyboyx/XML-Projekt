<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="Style.css">
	<title>Document</title>
	

</head>
<script type="text/javascript">
	

var messages = [], 
  lastUserMessage = "", 
  botMessage = "", 
  botName = 'Pepe', 
  talking = true;

function chatbotResponse() {
  talking = true;
  botMessage = "Pepe wants you to talk to Pepe like Pepe is the only thing in Pepe universe that you want to talk to."; //the default message

  if (lastUserMessage === 'hi' || lastUserMessage =='hello') {
    const hi = ['hi','howdy','hello']
    botMessage = hi[Math.floor(Math.random()*(hi.length))];;
  }

  if (lastUserMessage === 'name') {
    botMessage = 'My name is ' + botName;
  }

  if (lastUserMessage === 'Love') {
    const hi = ['Pepe Loves you','I pepe is confused','Pepe wants to be just friends']
    botMessage = hi[Math.floor(Math.random()*(hi.length))];;
  }

  if (lastUserMessage === 'kiss') {
    botMessage = 'why did you kiss me';
  }

  if (lastUserMessage === 'cry') {
    botMessage = 'tears tears tears tears tears tears';
  }

  if (lastUserMessage === 'bois') {
    botMessage = 'Bois. Bois. Bois. Bois. Bois. Bois. ';
  }

  if (lastUserMessage === 'uga buga') {
    botMessage = 'Oogly googly Googly Googly googly Oogly Oogly googly Googly Googly googly Oogly Oogly googly Googly Googly googly Oogly.';
  }

  if (lastUserMessage === 'machine gun') {
    botMessage = 'The gun goes @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@';
  }


}

function newEntry() {
 
  if (document.getElementById("chatbox").value != "") {
    
    lastUserMessage = document.getElementById("chatbox").value;
   
    document.getElementById("chatbox").value = "";
    
    messages.push("User: " + lastUserMessage);
    Speech(lastUserMessage);  //says what the user typed outloud
    
    chatbotResponse();
    
    messages.push("<b>" + botName + ":</b> " + botMessage);
    // says the message using the text to speech function written below
    Speech(botMessage);
    
    for (var i = 1; i < 8; i++) {
      if (messages[messages.length - i])
        document.getElementById("chatlog" + i).innerHTML = messages[messages.length - i];
    }
  }
}


function Speech(say) {
  if ('speechSynthesis' in window && talking) {
    var utterance = new SpeechSynthesisUtterance(say);
    //msg.voice = voices[10]; // sokme voices dont work
    //msg.voiceURI = 'native';
    //utterance.volume = 1; // 0 to 1
    //utterance.rate = 0.1; // 0.1 to 10
    //utterance.pitch = 1; //0 to 2
    //utterance.text = 'Hello World';
    utterance.lang = 'en-US';
    speechSynthesis.speak(utterance);
  }
}

//runs the keypress() function when a key is pressed
document.onkeypress = keyPress;
//if the key pressed is 'enter' runs the function newEntry()
function keyPress(e) {
  var x = e || window.event;
  var key = (x.keyCode || x.which);
  if (key == 13 || key == 3) {
    
    newEntry();

  }
  if (key == 38) {
    console.log('hi')
      //document.getElementById("chatbox").value = lastUserMessage;
  }
}


function placeHolder() {
  document.getElementById("chatbox").placeholder = "";
}s

</script>
<body>
	
	<header id="header">
		<nav>
	    <ul>
	        <li><a href="index.html">Home</a></li><!--
	     --><li><a href="PepeList.html">Pepe List</a></li><!--
	     --><li><a href="TalkToPepe.html">Talk to Pepe</a></li><!--
	     --><li><a href="Pepe.html">Pepe</a></li>
	    </ul>
		</nav>
	</header>
	<div class="clear"></div>
	<div class="Container">

		<div id='bodybox'>
		  	<div id='chatborder'>
			    <p id="chatlog7" class="chatlog">&nbsp;</p>
			    <p id="chatlog6" class="chatlog">&nbsp;</p>
			    <p id="chatlog5" class="chatlog">&nbsp;</p>
			    <p id="chatlog4" class="chatlog">&nbsp;</p>
			    <p id="chatlog3" class="chatlog">&nbsp;</p>
			    <p id="chatlog2" class="chatlog">&nbsp;</p>
			    <p id="chatlog1" class="chatlog">&nbsp;</p>
	    		<input type="text" name="chat" id="chatbox" placeholder="Hi there! Type here to talk to me." onfocus="placeHolder()">
  			</div>
  		</div>

  		<br><br><br>
  		<br>
  		<br>
  		<hr style="color: white;width: 100%;">
  		<h1>Words.</h1>
  		<ul style="padding-left: 50px;margin-top: 20px;margin-bottom: 50px;">
  		    <li>hi or hello</li>
  		    <li>name</li>
  		    <li>Love</li>
  		    <li>kiss</li>
  		    <li>cry</li>
  		    <li>bois</li>
  		    <li>uga buga</li>
  		    <li>machine gun</li>
  		</ul>
	</div>
	<div class="clear"></div>
	<footer>
		<p>Made by: Davor Jakopic</p>
	</footer>
</body>
</html>